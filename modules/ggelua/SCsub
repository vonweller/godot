#!/usr/bin/env python
from misc.utility.scons_hints import *

Import("env")
Import("env_modules")

env_ggelua = env_modules.Clone()

# 禁用警告
env_ggelua.disable_warnings()

# 源文件列表 - 完全自包含，不依赖外部GGELUA文件夹
source_files = [
    "ggelua_core.cpp",      # 核心功能实现
    "tcp_loader.cpp",       # TCP文件加载器
    "wdf_archive.cpp",      # WDF归档访问器
    "map_loader.cpp",       # 地图文件加载器
    "ggelua_hash.cpp",      # 哈希工具
    "register_types.cpp",   # 模块注册
]

# 编译所有源文件
module_obj = []
env_ggelua.add_source_files(module_obj, source_files)

env.modules_sources += module_obj